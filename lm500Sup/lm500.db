record(ai, "$(P)ALARM") {
    field(DESC, "Alarm Threshold")
    field(DTYP, "stream")
    field(SCAN, "1 second")
    field(INP,  "@lm500.proto getALARM() $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:ALARM")
    field(SDIS, "$(P)DISABLE")
}

record(mbbi, "$(P)BOOST") {
    field(DESC, "Boost mode")
    field(ZRST, "Off")
    field(ONST, "On")
    field(TWST, "Smart")
    field(DTYP, "stream")
    field(SCAN, "1 second")
    field(INP,  "@lm500.proto getBOOST() $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:BOOST")
    field(SDIS, "$(P)DISABLE")
}

record(mbbo, "$(P)BOOST:SP") {
    field(DESC, "Boost mode Setpoint")
    field(ZRST, "Off")
    field(ONST, "On")
    field(TWST, "Smart")
    field(DTYP, "stream")
    field(OUT,  "@lm500.proto setBOOST $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:BOOST:SP")
    field(SDIS, "$(P)DISABLE")
}

alias("$(P)BOOST", "$(P)BOOST:SP:RBV")

record(mbbi, "$(P)OUTPUT") {
    field(DESC, "Output Channel")
    field(DTYP, "stream")
    field(SCAN, "1 second")
    field(ZRVL, "0")
    field(ONVL, "1")
    field(TWVL, "2")
    field(ZRST, "Remote Select")
    field(ONST, "Channel 1")
    field(TWST, "Channel 2")
    field(INP,  "@lm500.proto getOUT() $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:OUTPUT")
    field(SDIS, "$(P)DISABLE")
}
record(mbbo, "$(P)OUTPUT:SP") {
    field(DESC, "Output Channel")
    field(DTYP, "stream")
    field(ZRVL, "0")
    field(ONVL, "1")
    field(TWVL, "2")
    field(ZRST, "Remote Select")
    field(ONST, "Channel 1")
    field(TWST, "Channel 2")
    field(OUT, "@lm500.proto setOUT $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:OUTPUT:SP")
    field(SDIS, "$(P)DISABLE")
}
alias("$(P)OUTPUT", "$(P)OUTPUT:SP:RBV")

record(mbbi, "$(P)TYPE") {
    field(DESC, "Default Channel's Type")
    field(DTYP, "stream")
    field(ZRVL, "0")
    field(ONVL, "1")
    field(ZRST, "Helium")
    field(ONST, "Nitrogen")
    field(SCAN, "1 second")
    field(INP,  "@lm500.proto getTYPE() $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:TYPE")
    field(SDIS, "$(P)DISABLE")
}

record(mbbi, "$(P)TYPE:CHAN1") {
    field(DESC, "Channel 1's Type")
    field(DTYP, "stream")
    field(ZRVL, "0")
    field(ONVL, "1")
    field(ZRST, "Helium")
    field(ONST, "Nitrogen")
    field(SCAN, "1 second")
    field(INP,  "@lm500.proto getTYPECHAN(1) $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:TYPE:CHAN1")
    field(SDIS, "$(P)DISABLE")
}

record(mbbi, "$(P)TYPE:CHAN2") {
    field(DESC, "Channel 2's Type")
    field(DTYP, "stream")
    field(ZRVL, "0")
    field(ONVL, "1")
    field(ZRST, "Helium")
    field(ONST, "Nitrogen")
    field(SCAN, "1 second")
    field(INP,  "@lm500.proto getTYPECHAN(2) $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:TYPE:CHAN2")
    field(SDIS, "$(P)DISABLE")
}
record(mbbi, "$(P)CHANNEL") {
    field(DESC, "Default Channel")
    field(DTYP, "stream")
    field(ZRVL, "1")
    field(ONVL, "2")
    field(ZRST, "Channel 1")
    field(ONST, "Channel 2")
    field(SCAN, "1 second")
    field(INP,  "@lm500.proto getCHAN() $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:CHANNEL")
    field(SDIS, "$(P)DISABLE")
}

record(mbbo, "$(P)CHANNEL:SP") {
    field(DESC, "Set Default Channel")
    field(DTYP, "stream")
    field(ZRVL, "1")
    field(ONVL, "2")
    field(ZRST, "Channel 1")
    field(ONST, "Channel 2")
    field(OUT, "@lm500.proto setCHAN $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:CHANNEL:SP")
    field(SDIS, "$(P)DISABLE")
}

alias("$(P)CHANNEL", "$(P)CHANNEL:SP:RBV")

record(mbbi, "$(P)ERROR") {
    field(DESC, "Error Mode")
    field(DTYP, "stream")
    field(SCAN, "1 second")
    field(ZRVL, "0")
    field(ONVL, "1")
    field(ZRST, "Reporting Disabled")
    field(ONST, "Reporting Enabled")
    field(INP,  "@lm500.proto getERR() $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:ERROR")
    field(SDIS, "$(P)DISABLE")
}

record(mbbo, "$(P)ERROR:SP") {
    field(DESC, "Set Default Channel")
    field(DTYP, "stream")
    field(ZRVL, "0")
    field(ONVL, "1")
    field(ZRST, "Disable")
    field(ONST, "Enable")
    field(OUT, "@lm500.proto setERR $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:ERROR:SP")
    field(SDIS, "$(P)DISABLE")
}

alias("$(P)CHANNEL", "$(P)CHANNEL:SP:RBV")

record(bo, "$(P)FILL:START") {
    field(DESC, "Start Fil")
    field(DTYP, "stream")
    field(VAL,  "0")
    field(ONAM, "Starting Fill") 
    field(HIGH, "1")
    field(OUT,  "@lm500.proto FILL $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:FILL")
    field(SDIS, "$(P)DISABLE")
}

record(stringin, "$(P)FILL") {
    field(DESC, "default channel Fill time or status")
    field(DTYP, "stream")
    field(SCAN, "1 second")
    field(INP,  "@lm500.proto getFILL() $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:FILL")
    field(SDIS, "$(P)DISABLE")
}

record(bo, "$(P)FILL:START:CHAN1") {
    field(DESC, "Start Fil")
    field(DTYP, "stream")
    field(VAL,  "0")
    field(ONAM, "Starting Fill") 
    field(HIGH, "1")
    field(OUT,  "@lm500.proto FILLCHAN(1) $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:FILL:START:CHAN1")
    field(SDIS, "$(P)DISABLE")
}

record(stringin, "$(P)FILL:CHAN1") {
    field(DESC, "Channel 1 Fill time or status")
    field(DTYP, "stream")
    field(SCAN, "1 second")
    field(INP,  "@lm500.proto getFILLCHAN(1) $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:FILL:CHAN1")
    field(SDIS, "$(P)DISABLE")
}

record(bo, "$(P)FILL:START:CHAN2") {
    field(DESC, "Start Fil")
    field(DTYP, "stream")
    field(VAL,  "0")
    field(ONAM, "Starting Fill") 
    field(HIGH, "1")
    field(OUT,  "@lm500.proto FILLCHAN(2) $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:FILL:START:CHAN2")
    field(SDIS, "$(P)DISABLE")
}

record(stringin, "$(P)FILL:CHAN2") {
    field(DESC, "Channel 2 Fill time or status")
    field(DTYP, "stream")
    field(SCAN, "1 second")
    field(INP,  "@lm500.proto getFILLCHAN(2) $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:FILL:CHAN2")
    field(SDIS, "$(P)DISABLE")
}

record(ai, "$(P)HIGH") {
    field(DESC, "High Threshold")
    field(DTYP, "stream")
    field(SCAN, "1 second")
    field(INP,  "@lm500.proto getHIGH() $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:HIGH")
    field(SDIS, "$(P)DISABLE")
}

record(ao, "$(P)HIGH:SP") {
    field(DESC, "Set High Threshold")
    field(DTYP, "stream")
    field(OUT, "@lm500.proto setHIGH $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:HIGH:SP")
    field(SDIS, "$(P)DISABLE")
}

alias("$(P)HIGH", "$(P)HIGH:SP:RBV")

record(ai, "$(P)LOW") {
    field(DESC, "Low Threshold")
    field(DTYP, "stream")
    field(SCAN, "1 second")
    field(INP,  "@lm500.proto getLOW() $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:LOW")
    field(SDIS, "$(P)DISABLE")
}

record(ao, "$(P)LOW:SP") {
    field(DESC, "Set Low Threshold")
    field(DTYP, "stream")
    field(OUT, "@lm500.proto setLow $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:LOW:SP")
    field(SDIS, "$(P)DISABLE")
}

alias("$(P)LOW", "$(P)LOW:SP:RBV")

record(stringin, "$(P)INTRVL") {
    field(DESC, "Interval")
    field(DTYP, "stream")
    field(SCAN, "1 second")
    field(INP,  "@lm500.proto getINERTVAL() $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:INTRVL")
    field(SDIS, "$(P)DISABLE")
}

record(scalcout, "$(P)INTRVL:CALC") {
    field(DESC, "Interval Setpoint")
    field(DTYP, "Soft Channel")
    field(CALC, "$P('%02i',a)+':'+$P('%02i',b)+':'+$P('%02i',c)")
    field(INPA, "$(P)INTRVL:HOUR:SP CP MS")
    field(INPB, "$(P)INTRVL:MIN:SP CP MS")
    field(INPC,  "$(P)INTRVL:SEC:SP CP MS")
    field(OOPT, "Every Time")
    field(DOPT, "Use CALC")
    field(OUT, "$(P)INTRVL:SP PP")
}

record(stringout, "$(P)INTRVL:SP")
{
    field(DESC, "Interval Setpoint")
    field(DTYP, "stream")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:INTRVL:SP")
    field(SDIS, "$(P)DISABLE")
    field(OUT, "@lm500.proto setINTVL $(PORT)")
}
alias("$(P)INTRVL", "$(P)INTRVL:SP:RBV")

record(ao, "$(P)INTRVL:HOUR:SP") {
    field(DESC, "Set Interval Hour")
    field(DTYP, "Soft Channel")
    field(DRVH, "99")
    field(DRVL, "0")
}

record(ao, "$(P)INTRVL:MIN:SP") {
    field(DESC, "Set Interval Minute")
    field(DTYP, "Soft Channel")
    field(DRVH, "60")
    field(DRVL, "0")
}

record(ao, "$(P)INTRVL:SEC:SP") {
    field(DESC, "Set Interval Second")
    field(DTYP, "Soft Channel")
    field(DRVH, "60")
    field(DRVL, "0")
}

record(bo, "$(P)MEAS:SP") {
    field(DESC, "Start Measurement")
    field(DTYP, "stream")
    field(VAL,  "0")
    field(ONAM, "Start Measurement") 
    field(HIGH, "1")
    field(OUT,  "@lm500.proto MEAS $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:MEAS:SP")
    field(SDIS, "$(P)DISABLE")
}

record(ai, "$(P)MEAS") {
    field(DESC, "Default Channel's Measurement")
    field(DTYP, "stream")
    field(SCAN, "1 second")
    field(INP,  "@lm500.proto getMEASURE() $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:MEAS")
    field(SDIS, "$(P)DISABLE")
}

record(bo, "$(P)MEAS:CHAN1:SP") {
    field(DESC, "Start Measurement in Channel 1")
    field(DTYP, "stream")
    field(VAL,  "0")
    field(ONAM, "Start Measurement") 
    field(HIGH, "1")
    field(OUT,  "@lm500.proto MEASCHAN(1) $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:MEAS:CHAN1:SP")
    field(SDIS, "$(P)DISABLE")
}

record(ai, "$(P)MEAS:CHAN1") {
    field(DESC, "Channel 1's Measurement")
    field(DTYP, "stream")
    field(SCAN, "1 second")
    field(INP,  "@lm500.proto getMEASURECHAN(1) $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:MEAS:CHAN1:")
    field(SDIS, "$(P)DISABLE")
}

record(bo, "$(P)MEAS:CHAN2:SP") {
    field(DESC, "Start Measurement in Channel 2")
    field(DTYP, "stream")
    field(VAL,  "0")
    field(ONAM, "Start Measurement") 
    field(HIGH, "1")
    field(OUT,  "@lm500.proto MEASCHAN(2) $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:MEAS:CHAN2:SP")
    field(SDIS, "$(P)DISABLE")
}

record(ai, "$(P)MEAS:CHAN2") {
    field(DESC, "Channel 2's Measurement")
    field(DTYP, "stream")
    field(SCAN, "1 second")
    field(INP,  "@lm500.proto getMEASURECHAN(2) $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:MEAS:CHAN2")
    field(SDIS, "$(P)DISABLE")
}

record(mbbi, "$(P)MODE") {
    field(DESC, "Mode")
    field(DTYP, "stream")
    field(ZRST, "Disabled")
    field(ONST, "Sample/Hold")
    field(TWST, "Continuous")
    field(SCAN, "1 second")
    field(INP,  "@lm500.proto getMODE() $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:MODE")
    field(SDIS, "$(P)DISABLE")
}

record(mbbo, "$(P)MODE:SP:RAW") {
    field(DESC, "Mode Setpoint")
    field(DTYP, "stream")
    field(ZRST, "0")
    field(ONST, "S")
    field(TWST, "C")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:MODE:SP:RAW")
    field(SDIS, "$(P)DISABLE")
    field(OUT,  "@lm500.proto setMODE($(P)MODE:SP) $(PORT)")

}

record(mbbo, "$(P)MODE:SP") {
    field(DESC, "Mode Setpoint")
    field(DTYP, "Soft Channel")
    field(ZRST, "Disabled")
    field(ONST, "Sample/Hold")
    field(TWST, "Continuous")
    field(OUT,  "$(P)MODE:SP:RAW PP")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:MODE:SP")
    field(SDIS, "$(P)DISABLE")
}

alias("$(P)MODE", "$(P)MODE:SP:RBV")

record(ai, "$(P)LENGTH") {
    field(DESC, "Sensor Length")
    field(DTYP, "stream")
    field(SCAN, "1 second")
    field(INP,  "@lm500.proto getLENGTH() $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:LENGTH")
    field(SDIS, "$(P)DISABLE")
}

record(mbbiDirect, "$(P)STATUS:BIT:0") {
    field(DESC, "Channel 1 detailed status")
    field(DTYP, "stream")
    field(SCAN, "1 second")
    field(INP,  "@lm500.proto getSTATUS($(P)STATUS:BIT:1) $(PORT)")
    # 0 Read in progress
    # 1 Refill active
    # 2 Refill timeout occurred
    # 3 Auto refil is inihibeted by low = 0.0 or timeout
    # 4 Alarm limit is exceeded
    # 5 Open sensor was detected (LHe channel only)
    # 6 Burnout condition was detected
}


record(mbbiDirect, "$(P)STATUS:BIT:1") {
    field(DESC, "Channel 2 detailed status")
    field(DTYP, "Soft Channel")
    # 0 Read in progress
    # 1 Refill active
    # 2 Refill timeout occurred
    # 3 Auto refil is inihibeted by low = 0.0 or timeout
    # 4 Alarm limit is exceeded
    # 5 Open sensor was detected (LHe channel only)
    # 6 Burnout condition was detected
}

record(bi, "$(P)CHAN1:READ") {
    field(DESC, "Channel 1 Read Status")
    field(DTYP, "Raw Soft Channel")
    field(ONAM, "Read in progress")
    field(INP,  "$(P)STATUS:BIT:0.B0 CP MS")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:CHAN1:READ")
    field(SDIS, "$(P)DISABLE")
}

record(bi, "$(P)CHAN2:READ") {
    field(DESC, "Channel 2 Read Status")
    field(DTYP, "Raw Soft Channel")
    field(ONAM, "Read in progress")
    field(INP,  "$(P)STATUS:BIT:1.B0 CP MS")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:CHAN2:READ")
    field(SDIS, "$(P)DISABLE")
}

record(bi, "$(P)CHAN1:REFILL") {
    field(DESC, "Channel 1 Refill Status")
    field(DTYP, "Raw Soft Channel")
    field(ONAM, "Refill active")
    field(INP,  "$(P)STATUS:BIT:0.B1 CP MS")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:CHAN1:REFILL")
    field(SDIS, "$(P)DISABLE")
}

record(bi, "$(P)CHAN2:REFILL") {
    field(DESC, "Channel 2 Refill Status")
    field(DTYP, "Raw Soft Channel")
    field(ONAM, "Refill active")
    field(INP,  "$(P)STATUS:BIT:1.B1 CP MS")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:CHAN2:REFILL")
    field(SDIS, "$(P)DISABLE")
}

record(bi, "$(P)CHAN1:REFILL:TIMEOUT") {
    field(DESC, "Channel 1 Refill Timeout")
    field(DTYP, "Raw Soft Channel")
    field(ONAM, "Refill timeout occured")
    field(INP,  "$(P)STATUS:BIT:0.B2 CP MS")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:CHAN1:REFILL:TIMEOUT")
    field(SDIS, "$(P)DISABLE")
}

record(bi, "$(P)CHAN2:REFILL:TIMEOUT") {
    field(DESC, "Channel 2 Refill Timeout")
    field(DTYP, "Raw Soft Channel")
    field(ONAM, "Refill timeout occured")
    field(INP,  "$(P)STATUS:BIT:1.B2 CP MS")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:CHAN2:REFILL:TIMEOUT")
    field(SDIS, "$(P)DISABLE")
}

record(bi, "$(P)CHAN1:REFILL:INHIBITED") {
    field(DESC, "Channel 1 Refill Inhibited")
    field(DTYP, "Raw Soft Channel")
    field(ONAM, "Auto refil is inihibeted")
    field(INP,  "$(P)STATUS:BIT:0.B3 CP MS")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:CHAN1:REFILL:INHIBITED")
    field(SDIS, "$(P)DISABLE")
}

record(bi, "$(P)CHAN2:REFILL:INHIBITED") {
    field(DESC, "Channel 2 Refill Inhibited")
    field(DTYP, "Raw Soft Channel")
    field(ONAM, "Auto refil is inihibeted")
    field(INP,  "$(P)STATUS:BIT:1.B3 CP MS")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:CHAN2:REFILL:INHIBITED")
    field(SDIS, "$(P)DISABLE")
}

record(bi, "$(P)CHAN1:ALARM:STATUS") {
    field(DESC, "Channel 1 Alarm Status")
    field(DTYP, "Raw Soft Channel")
    field(ONAM, "Alarm Limit Exceeded")
    field(INP,  "$(P)STATUS:BIT:0.B4 CP MS")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:CHAN1:ALARM:STATUS")
    field(SDIS, "$(P)DISABLE")
}

record(bi, "$(P)CHAN2:ALARM:STATUS") {
    field(DESC, "Channel 2 Alarm Status")
    field(DTYP, "Raw Soft Channel")
    field(ONAM, "Alarm Limit Exceeded")
    field(INP,  "$(P)STATUS:BIT:1.B4 CP MS")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:CHAN2:ALARM:STATUS")
    field(SDIS, "$(P)DISABLE")
}

record(bi, "$(P)CHAN1:SENSOR:STATUS") {
    field(DESC, "Channel 1 Sensor Status")
    field(DTYP, "Raw Soft Channel")
    field(ONAM, "Open Sensor")
    field(INP,  "$(P)STATUS:BIT:0.B5 CP MS")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:CHAN1:SENSOR:STATUS")
    field(SDIS, "$(P)DISABLE")
}

record(bi, "$(P)CHAN2:SENSOR:STATUS") {
    field(DESC, "Channel 2 Sensor Status")
    field(DTYP, "Raw Soft Channel")
    field(ONAM, "Open Sensor")
    field(INP,  "$(P)STATUS:BIT:1.B5 CP MS")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:CHAN2:SENSOR:STATUS")
    field(SDIS, "$(P)DISABLE")
}

record(bi, "$(P)CHAN1:BURNOUT") {
    field(DESC, "Channel 1 Burnout Status")
    field(DTYP, "Raw Soft Channel")
    field(ONAM, "Burnout detected")
    field(INP,  "$(P)STATUS:BIT:0.B6 CP MS")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:CHAN1:BURNOUT")
    field(SDIS, "$(P)DISABLE")
}

record(bi, "$(P)CHAN2:BURNOUT") {
    field(DESC, "Channel 2 Burnout Status")
    field(DTYP, "Raw Soft Channel")
    field(ONAM, "Burnout detected")
    field(INP,  "$(P)STATUS:BIT:1.B6 CP MS")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:CHAN2:BURNOUT")
    field(SDIS, "$(P)DISABLE")
}

record(bi, "$(P)MENU:MODE") {
    field(DESC, "Menu Mode")
    field(DTYP, "stream")
    field(SCAN, "I/O Intr")
    field(INP, "@lm500.proto getSTATUSMODE() $(PORT)")
    field(ONAM, "Menu Mode")
    field(ZNAM, "Operate Mode")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:MENU:MODE")
    field(SDIS, "$(P)DISABLE")
}

record(mbbi, "$(P)UNITS") {
    field(DESC, "Units")
    field(ZRST, "CM")
    field(ONST, "IN")
    field(TWST, "%")
    field(DTYP, "stream")
    field(SCAN, "1 second")
    field(INP,  "@lm500.proto getUNITS() $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:UNITS")
    field(SDIS, "$(P)DISABLE")
}

record(mbbo, "$(P)UNITS:SP") {
    field(DESC, "Set Units")
    field(DTYP, "stream")
    field(ZRST, "CM")
    field(ONST, "IN")
    field(TWST, "%")
    field(OUT,  "@lm500.proto setUNITS $(PORT)")
    field(SIML, "$(P)SIM")
    field(SIOL, "$(P)SIM:UNITS:SP")
    field(SDIS, "$(P)DISABLE")
}
alias("$(P)UNITS", "$(P)UNITS:SP:RBV")

record(bo, "$(P)SIM")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
    field(ZNAM, "NO")
    field(ONAM, "YES")
    field(VAL, "$(RECSIM=0)")
    field(PINI, "YES")
}

record(bo, "$(P)DISABLE")
{
    field(DESC, "Disable comms")
    field(PINI, "YES")
    field(VAL, "$(DISABLE=0)")
    field(OMSL, "supervisory")
    field(ZNAM, "COMMS ENABLED")
    field(ONAM, "COMMS DISABLED")
}

### SIMULATION RECORDS ###

record(ai,"$(P)SIM:ALARM")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

record(mbbo,"$(P)SIM:BOOST:SP")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}
alias("$(P)SIM:BOOST:SP","$(P)SIM:BOOST")

record(mbbo,"$(P)SIM:CHANNEL:SP")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

alias("$(P)SIM:CHANNEL:SP","$(P)SIM:CHANNEL")

record(mbbo,"$(P)SIM:ERROR:SP")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

alias("$(P)SIM:ERROR:SP","$(P)SIM:ERROR")

record(bo,"$(P)SIM:FILL:START")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

record(bo,"$(P)SIM:FILL:START:CHAN1")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

record(ai,"$(P)SIM:FILL:CHAN1")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

record(bo,"$(P)SIM:FILL:START:CHAN2")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

record(ai,"$(P)SIM:FILL:CHAN2")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

record(ai,"$(P)SIM:FILL")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

record(ao,"$(P)SIM:HIGH:SP")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

alias("$(P)SIM:HIGH:SP","$(P)SIM:HIGH")

record(stringin,"$(P)SIM:INTRVL")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

alias("$(P)SIM:INTRVL","$(P)SIM:INTRVL:SP:RAW")

record(ai,"$(P)SIM:LENGTH")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

record(ao,"$(P)SIM:LOW:SP")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

alias("$(P)SIM:LOW:SP","$(P)SIM:LOW")

record(bo,"$(P)SIM:MEAS")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

record(bo,"$(P)SIM:MEAS:CHAN1")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

record(ai,"$(P)SIM:MEAS:CHAN1")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

record(bo,"$(P)SIM:MEAS:CHAN2")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

record(ai,"$(P)SIM:MEAS:CHAN2")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

record(ai,"$(P)SIM:MEAS")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

record(bi,"$(P)SIM:MENU:MODE")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

record(mbbi,"$(P)SIM:MODE:SP")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
    field(INP, "$(P)MODE CP MS")
    field(OUT,  "$(P)SIM:MODE:SP:RAW PP")
}

alias("$(P)SIM:MODE:SP","$(P)SIM:MODE")

record(mbbo,"$(P)SIM:MODE:SP:RAW")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
    field(ZRST, "0")
    field(ONST, "S")
    field(TWST, "C")
}

record(mbbo,"$(P)SIM:OUTPUT:SP")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

alias("$(P)SIM:OUTPUT:SP","$(P)SIM:OUTPUT")

record(mbbi,"$(P)SIM:TYPE:CHAN1")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

record(mbbi,"$(P)SIM:TYPE:CHAN2")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

record(mbbi,"$(P)SIM:TYPE")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
}

record(mbbi,"$(P)SIM:UNITS:SP")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
    field(FLNK, "$(P)SIM:HIGH:SP.EGU PP")
}

alias("$(P)SIM:UNITS:SP","$(P)SIM:UNITS")

